<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Chapli!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0A0A0A;
            color: #F0F0F0;
            overflow: hidden;
            height: 100vh;
            transition: background-color 0.5s;
        }

        /* ===== PAGE CONTAINER ===== */
        .page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s, transform 0.8s;
            pointer-events: none;
            z-index: 1;
            padding: 20px;
            overflow: hidden;
        }

        .page.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        /* ===== DECORATIONS ===== */
        .decoration-top {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120px;
            background: linear-gradient(180deg, #0F1C3F 0%, rgba(15, 28, 63, 0) 100%);
            z-index: -1;
            overflow: hidden;
        }

        .floating-balloons {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .balloon {
            position: absolute;
            width: 60px;
            height: 70px;
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        .balloon:before {
            content: '';
            position: absolute;
            width: 2px;
            height: 50px;
            background: rgba(255, 255, 255, 0.7);
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
        }

        .balloon:nth-child(odd) { background-color: #FFD700; }
        .balloon:nth-child(even) { background-color: #0F1C3F; }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(20deg); }
        }

        /* ===== PAGE 1: LOGIN ===== */
        .login-container {
            background: rgba(15, 28, 63, 0.8);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 400px;
        }

        .login-title {
            font-size: 2.5rem;
            background: linear-gradient(to right, #FFD700, #FFEC8B);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .password-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #0F1C3F;
            border-radius: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: #FFD700;
            text-align: center;
            margin: 20px 0;
            transition: all 0.3s;
        }

        .password-input:focus {
            outline: none;
            border-color: #FFD700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }

        .login-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #0A0A0A;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .login-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .error-message {
            color: #ff6b6b;
            margin-top: 15px;
            min-height: 20px;
            font-size: 0.9rem;
        }

        /* ===== PAGE 2: CUTIEPIE PAGE ===== */
        .page2-content {
            text-align: center;
            width: 90%;
            max-width: 600px;
        }

        .cat-gif-container {
            width: 200px;
            height: 200px;
            margin: 0 auto 30px;
            border-radius: 50%;
            overflow: hidden;
            border: 5px solid #FFD700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            animation: pulse 2s infinite;
        }

        .cat-gif {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .main-title {
            font-size: 2.2rem;
            color: #FFD700;
            text-transform: uppercase;
            margin-bottom: 15px;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            letter-spacing: 2px;
        }

        .sub-text {
            font-size: 1.2rem;
            color: #B0B0B0;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .surprise-btn {
            background: linear-gradient(135deg, #0F1C3F, #1E3A8A);
            color: #FFD700;
            border: 2px solid #FFD700;
            padding: 18px 50px;
            font-size: 1.4rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .surprise-btn:hover {
            background: linear-gradient(135deg, #1E3A8A, #0F1C3F);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
        }

        /* ===== PAGE 3: CUSTOM CAKE PAGE ===== */
        .cake-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 0 auto 40px;
        }

        .custom-cake {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #FFD700;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .cake-top {
            width: 80%;
            height: 60%;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 50% 50% 0 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cake-bottom {
            width: 90%;
            height: 40%;
            background: linear-gradient(135deg, #FFA500, #DAA520);
            border-radius: 0 0 20% 20%;
            position: relative;
        }

        .cake-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #0A0A0A;
            font-size: 1.8rem;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.5s;
            text-align: center;
            width: 100%;
            padding: 0 20px;
        }

        .candle {
            position: absolute;
            width: 12px;
            height: 50px;
            background: linear-gradient(to bottom, #FFFFFF, #FFB6C1);
            top: 20%;
            border-radius: 3px;
            transition: all 0.5s;
        }

        .candle:nth-child(1) { left: 40%; }
        .candle:nth-child(2) { left: 50%; transform: translateX(-50%); }
        .candle:nth-child(3) { left: 60%; }

        .flame {
            position: absolute;
            width: 18px;
            height: 35px;
            background: linear-gradient(to bottom, #FFD700, #FF4500);
            border-radius: 50% 50% 20% 20%;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: flicker 0.5s infinite alternate;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        }

        @keyframes flicker {
            0% { transform: translateX(-50%) scale(1); }
            100% { transform: translateX(-50%) scale(1.1); }
        }

        .cake-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #0A0A0A;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .cake-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        .confetti {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: -1;
        }

        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #FFD700;
            opacity: 0;
        }

        /* ===== PAGE 4: BALLOONS PAGE ===== */
        .balloons-game-container {
            text-align: center;
            width: 90%;
            max-width: 800px;
        }

        .message-title {
            font-size: 2rem;
            color: #FFD700;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .page4-instruction {
            font-size: 1.2rem;
            color: #B0B0B0;
            margin-bottom: 40px;
        }

        .balloons-row {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .game-balloon {
            width: 120px;
            height: 150px;
            background-color: #0F1C3F;
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: transparent;
            animation: bounce 2s infinite;
            border: 3px solid #FFD700;
        }

        .game-balloon:before {
            content: '';
            position: absolute;
            width: 3px;
            height: 80px;
            background-color: rgba(255, 255, 255, 0.7);
            bottom: -80px;
            left: 50%;
            transform: translateX(-50%);
        }

        .game-balloon:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .game-balloon.burst {
            animation: burst 0.5s forwards;
            color: #FFD700;
            font-weight: bold;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes burst {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        .hidden-word {
            position: absolute;
            font-size: 1.8rem;
            color: #FFD700;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.5s;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }

        .hidden-word.show {
            opacity: 1;
        }

        .next-btn {
            background: linear-gradient(135deg, #0F1C3F, #1E3A8A);
            color: #FFD700;
            border: 2px solid #FFD700;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 40px;
            opacity: 0;
            pointer-events: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .next-btn.active {
            opacity: 1;
            pointer-events: all;
        }

        .next-btn:hover {
            background: linear-gradient(135deg, #1E3A8A, #0F1C3F);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
        }

        /* ===== PAGE 5: MEMORY CARDS - FIXED ===== */
        .page5-content {
            text-align: center;
            width: 90%;
            max-width: 800px;
        }

        .page5-title {
            font-size: 2.5rem;
            color: #FFD700;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
        }

        .page5-subtitle {
            font-size: 1.3rem;
            color: #0F1C3F;
            margin-bottom: 40px;
            font-weight: bold;
            background-color: rgba(255, 215, 0, 0.2);
            padding: 5px 15px;
            border-radius: 10px;
            display: inline-block;
        }

        .cards-container {
            position: relative;
            width: 100%;
            height: 320px;
            margin: 40px auto;
            perspective: 1200px;
        }

        .memory-card {
            position: absolute;
            width: 220px;
            height: 280px;
            left: 50%;
            top: 50%;
            transform-origin: center;
            transform-style: preserve-3d;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.8s;
        }

        .card-front {
            background: linear-gradient(135deg, #0F1C3F, #1E3A8A);
            color: #FFD700;
            font-size: 1.8rem;
            font-weight: bold;
            border: 3px solid #FFD700;
            transform: rotateY(0deg);
        }

        .card-back {
            background-color: #0A0A0A;
            transform: rotateY(180deg);
            overflow: hidden;
        }

        .memory-card.flipped .card-front {
            transform: rotateY(180deg);
        }

        .memory-card.flipped .card-back {
            transform: rotateY(0deg);
        }

        .card-back img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .card-back:hover img {
            transform: scale(1.05);
        }

        .card-number {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: rgba(255, 215, 0, 0.9);
            color: #0A0A0A;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .open-message-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #0A0A0A;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .open-message-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        /* ===== PAGE 6: CARD MESSAGE - FIXED ===== */
        .page6-content {
            text-align: center;
            width: 90%;
            max-width: 600px;
        }

        .king-card-container {
            position: relative;
            width: 320px;
            height: 420px;
            margin: 30px auto;
            perspective: 1000px;
        }

        .king-card {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .king-card.flipped {
            transform: rotateY(180deg);
        }

        .card-cover, .card-inside {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding: 30px 25px;
            overflow: hidden;
        }

        .card-cover {
            background: linear-gradient(135deg, #0F1C3F, #1E3A8A);
            border: 5px solid #FFD700;
            color: #FFD700;
            justify-content: center;
        }

        .card-inside {
            background-color: #0A0A0A;
            border: 5px solid #FFD700;
            transform: rotateY(180deg);
            overflow-y: auto;
            padding: 25px 20px;
        }

        .card-inside h2 {
            color: #FFD700;
            font-size: 1.8rem;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            text-align: center;
        }

        .card-inside p {
            color: #F0F0F0;
            font-size: 1rem;
            line-height: 1.5;
            text-align: left;
            margin-bottom: 15px;
            width: 100%;
            overflow-wrap: break-word;
            word-wrap: break-word;
            hyphens: auto;
        }

        .cover-title {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7);
        }

        .cover-subtitle {
            font-size: 1.6rem;
            margin-bottom: 20px;
            color: #FFEC8B;
        }

        .tap-text {
            position: absolute;
            bottom: 25px;
            color: rgba(255, 215, 0, 0.8);
            font-size: 1rem;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .page6-next-btn {
            background: linear-gradient(135deg, #0F1C3F, #1E3A8A);
            color: #FFD700;
            border: 2px solid #FFD700;
            padding: 15px 40px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .page6-next-btn:hover {
            background: linear-gradient(135deg, #1E3A8A, #0F1C3F);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.7);
        }

        /* ===== PAGE 7: FINAL GIFT - FIXED ===== */
        .page7-content {
            text-align: center;
            width: 90%;
            max-width: 600px;
        }

        .gift-container {
            position: relative;
            width: 250px;
            height: 250px;
            margin: 20px auto;
            cursor: pointer;
        }

        .gift-box {
            position: absolute;
            width: 100%;
            height: 100%;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .gift-closed {
            z-index: 2;
        }

        .gift-opened {
            z-index: 1;
            opacity: 0;
            transform: scale(0.8);
        }

        .gift-box.open .gift-closed {
            opacity: 0;
            transform: scale(1.2) rotate(10deg);
            pointer-events: none;
        }

        .gift-box.open .gift-opened {
            opacity: 1;
            transform: scale(1);
            pointer-events: all;
        }

        .gift-image {
            width: 80%;
            height: 80%;
            object-fit: contain;
            filter: drop-shadow(0 10px 20px rgba(255, 215, 0, 0.5));
        }

        .click-text {
            color: #FFD700;
            font-size: 1.3rem;
            margin-top: 15px;
            animation: pulse 2s infinite;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .final-message-container {
            background: rgba(15, 28, 63, 0.9);
            border-radius: 20px;
            padding: 25px;
            margin-top: 30px;
            border: 3px solid #FFD700;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            max-width: 450px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s;
        }

        .final-message-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .final-gif {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 15px;
            overflow: hidden;
            border: 3px solid #FFD700;
        }

        .final-gif img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .final-title {
            color: #FFD700;
            font-size: 1.8rem;
            margin-bottom: 12px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .final-text {
            color: #F0F0F0;
            font-size: 1.1rem;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .replay-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #0A0A0A;
            border: none;
            padding: 12px 35px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .replay-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
        }

        /* ===== PROGRESS INDICATOR ===== */
        .progress-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
            cursor: pointer;
        }

        .dot.active {
            background-color: #FFD700;
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        /* ===== SCROLLBAR STYLING ===== */
        .card-inside::-webkit-scrollbar {
            width: 6px;
        }

        .card-inside::-webkit-scrollbar-track {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 3px;
        }

        .card-inside::-webkit-scrollbar-thumb {
            background: #FFD700;
            border-radius: 3px;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .login-title { font-size: 2rem; }
            .main-title { font-size: 1.8rem; }
            .cake-container { width: 280px; height: 280px; }
            .game-balloon { width: 100px; height: 130px; }
            .balloons-row { gap: 20px; }
            .memory-card { width: 180px; height: 230px; }
            .cards-container { height: 280px; }
            .king-card-container { width: 280px; height: 380px; }
            .gift-container { width: 220px; height: 220px; }
            .card-inside h2 { font-size: 1.6rem; }
            .card-inside p { font-size: 0.95rem; }
            .cover-title { font-size: 2rem; }
            .cover-subtitle { font-size: 1.4rem; }
        }

        @media (max-width: 480px) {
            .login-container { padding: 30px 20px; }
            .cat-gif-container { width: 150px; height: 150px; }
            .main-title { font-size: 1.5rem; }
            .cake-container { width: 240px; height: 240px; }
            .game-balloon { width: 80px; height: 110px; }
            .balloons-row { gap: 15px; }
            .memory-card { width: 140px; height: 180px; }
            .cards-container { height: 230px; }
            .king-card-container { width: 240px; height: 320px; padding: 20px 15px; }
            .gift-container { width: 180px; height: 180px; }
            .page5-title { font-size: 2rem; }
            .card-inside { padding: 20px 15px; }
            .card-inside h2 { font-size: 1.4rem; margin-bottom: 10px; }
            .card-inside p { font-size: 0.9rem; line-height: 1.4; }
            .cover-title { font-size: 1.8rem; }
            .cover-subtitle { font-size: 1.2rem; }
            .final-message-container { padding: 20px; max-width: 350px; }
            .final-title { font-size: 1.6rem; }
            .final-text { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <!-- ===== DECORATIONS ===== -->
    <div class="decoration-top"></div>
    <div class="floating-balloons" id="floatingBalloons"></div>

    <!-- ===== PAGE 1: PASSWORD LOGIN ===== -->
    <div class="page active" id="page1">
        <div class="login-container">
            <h1 class="login-title">Secret Birthday Access</h1>
            <p style="color: #B0B0B0; margin-bottom: 25px;">Enter the magic word to unlock the surprise</p>
            
            <input type="password" class="password-input" id="passwordInput" placeholder="Enter password...">
            
            <button class="login-btn" id="loginBtn">
                <i class="fas fa-lock-open"></i> Unlock Surprise
            </button>
            
            <div class="error-message" id="errorMessage"></div>
            
            <p style="margin-top: 25px; color: #666; font-size: 0.9rem;">
                Hint: It's her nickname (6 letters)
            </p>
        </div>
    </div>

    <!-- ===== PAGE 2: CUTIEPIE PAGE ===== -->
    <div class="page" id="page2">
        <div class="page2-content">
            <div class="cat-gif-container">
                <img src="intro.gif" alt="Excited Cat" class="cat-gif">
            </div>
            
            <h1 class="main-title">A CUTIEPIE WAS BORN TODAY, 19 YEARS AGO!</h1>
            
            <p class="sub-text">Yes, it's YOU! A little surprise awaits...</p>
            
            <button class="surprise-btn" id="startSurpriseBtn">
                Start the Surprise <i class="fas fa-gift"></i>
            </button>
        </div>
    </div>

    <!-- ===== PAGE 3: CUSTOM CAKE PAGE ===== -->
    <div class="page" id="page3">
        <div class="page2-content">
            <h1 class="main-title" style="margin-bottom: 40px;">Make a Wish!</h1>
            
            <div class="cake-container">
                <div class="custom-cake">
                    <div class="cake-top"></div>
                    <div class="cake-bottom"></div>
                    <div class="candle" id="candle1">
                        <div class="flame" id="flame1"></div>
                    </div>
                    <div class="candle" id="candle2">
                        <div class="flame" id="flame2"></div>
                    </div>
                    <div class="candle" id="candle3">
                        <div class="flame" id="flame3"></div>
                    </div>
                    <div class="cake-text" id="cakeText">Happy Birthday Chapliüë∏üèª!</div>
                </div>
            </div>
            
            <button class="cake-btn" id="cakeBtn">
                Decorate Cake <i class="fas fa-birthday-cake"></i>
            </button>
            
            <div class="confetti" id="confettiContainer"></div>
        </div>
    </div>

    <!-- ===== PAGE 4: BALLOONS PAGE ===== -->
    <div class="page" id="page4">
        <div class="balloons-game-container">
            <h1 class="message-title">Happy Birthday, Chapliüë∏üèª!</h1>
            <p class="page4-instruction">Pop the Balloons to reveal the message</p>
            
            <div class="balloons-row">
                <div class="game-balloon" id="balloon1" data-word="You">
                    <span class="hidden-word">You</span>
                </div>
                <div class="game-balloon" id="balloon2" data-word="Are">
                    <span class="hidden-word">Are</span>
                </div>
                <div class="game-balloon" id="balloon3" data-word="The">
                    <span class="hidden-word">The</span>
                </div>
                <div class="game-balloon" id="balloon4" data-word="Special Girl">
                    <span class="hidden-word">Special Girlüòù</span>
                </div>
            </div>
            
            <div style="min-height: 100px; margin-top: 30px;">
                <div id="revealedMessage" style="font-size: 2rem; color: #FFD700; font-weight: bold; min-height: 50px; letter-spacing: 3px;"></div>
            </div>
            
            <button class="next-btn" id="nextPageBtn">
                Special Wish <i class="fas fa-heart"></i>
            </button>
        </div>
    </div>

    <!-- ===== PAGE 5: MEMORY CARDS ===== -->
    <div class="page" id="page5">
        <div class="page5-content">
            <h1 class="page5-title">Some Sweet Moments</h1>
            <div class="page5-subtitle">(Swipe the cards)</div>
            
            <div class="cards-container" id="cardsContainer">
                <!-- Cards will be generated by JavaScript -->
            </div>
            
            <button class="open-message-btn" id="openMessageBtn">
                Open My Message <i class="fas fa-envelope-open-text"></i>
            </button>
        </div>
    </div>

    <!-- ===== PAGE 6: CARD MESSAGE ===== -->
    <div class="page" id="page6">
        <div class="page6-content">
            <h1 class="page5-title">A Special Message</h1>
            
            <div class="king-card-container">
                <div class="king-card" id="kingCard">
                    <div class="card-cover">
                        <div class="cover-title">Happy</div>
                        <div class="cover-subtitle">BIRTHDAY</div>
                        <div class="cover-title">To you</div>
                        <div class="tap-text">Tap to Open</div>
                    </div>
                    <div class="card-inside">
                        <h2>Happy Birthday, ChapliüòùüéÇ!</h2>
                        <p>
                            My dearest friend,
                        </p>
                        <p>
                            On this incredible day, I want you to know just how much you mean to me. You're not just my best friend - you're the sunshine that brightens my darkest days, the laughter that fills my quiet moments, and the most beautiful soul I've ever known.
                        </p>
                        <p>
                            Every moment with you is a treasure. Your smile is my favorite sight, your voice is my favorite sound. You deserve all the happiness in the world and so much more.
                        </p>
                        <p>
                            Today, I wish for you endless joy, boundless laughter, and dreams that soar higher than the stars. May this year bring you closer to all your aspirations and fill your life with magical moments.
                        </p>
                        <p>
                            Thank you for being you - wonderfully, beautifully, uniquely you. I'm so grateful to celebrate another year of your amazing existence.
                        </p>
                        <p style="text-align: center; margin-top: 20px; font-style: italic; color: #FFD700;">
                            With lots of happiness üíõ
                        </p>
                    </div>
                </div>
            </div>
            
            <button class="page6-next-btn" id="page6NextBtn">
                Next <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <!-- ===== PAGE 7: FINAL GIFT ===== -->
    <div class="page" id="page7">
        <div class="page7-content">
            <h1 class="page5-title">One Last Thing...</h1>
            
            <div class="gift-container">
                <div class="gift-box" id="giftBox">
                    <div class="gift-closed">
                        <img src="gift.gif" alt="Gift Box" class="gift-image">
                    </div>
                    <div class="gift-opened">
                        <div class="final-message-container" id="finalMessage">
                            <div class="final-gif">
                                <img src="surprise.gif" alt="Celebration">
                            </div>
                            <h2 class="final-title">Your birthday is superb!</h2>
                            <p class="final-text">
                                Once again, Happy Birthday bataki! Hope you loved your surprise üòÖ.
                            </p>
                            <button class="replay-btn" id="replayBtn">
                                Replay <i class="fas fa-redo"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="click-text" id="clickText">Click to Open</div>
        </div>
    </div>

    <!-- ===== PROGRESS DOTS ===== -->
    <div class="progress-dots">
        <div class="dot active" data-page="1"></div>
        <div class="dot" data-page="2"></div>
        <div class="dot" data-page="3"></div>
        <div class="dot" data-page="4"></div>
        <div class="dot" data-page="5"></div>
        <div class="dot" data-page="6"></div>
        <div class="dot" data-page="7"></div>
    </div>

    <script>
        // ===== GLOBAL VARIABLES =====
        let currentPage = 1;
        let balloonsBurst = 0;
        let cakeStep = 0;
        let currentCard = 0;
        let cardInterval;
        let isCardAnimating = false;
        const totalPages = 7;
        const photos = [
            "photo 1.png",
            "photo 2.png",
            "photo 3.png",
            "photo 4.png",
            "photo 5.png",
            "photo 6.jpg",
        ];

        // ===== PASSWORD LOGIC =====
        document.getElementById('loginBtn').addEventListener('click', function() {
            const password = document.getElementById('passwordInput').value;
            const errorMessage = document.getElementById('errorMessage');
            
            if (password.toLowerCase() === 'chapli') {
                // Correct password
                errorMessage.textContent = '';
                document.getElementById('passwordInput').style.borderColor = '#4CAF50';
                
                // Create floating balloons for decoration
                createFloatingBalloons();
                
                // Transition to page 2
                setTimeout(() => {
                    switchPage(2);
                }, 500);
                
            } else {
                // Wrong password
                errorMessage.textContent = 'Wrong password! Try again.';
                document.getElementById('passwordInput').style.borderColor = '#ff6b6b';
                document.getElementById('passwordInput').value = '';
                
                // Shake animation
                document.getElementById('passwordInput').style.animation = 'shake 0.5s';
                setTimeout(() => {
                    document.getElementById('passwordInput').style.animation = '';
                }, 500);
            }
        });

        // Allow Enter key to submit password
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('loginBtn').click();
            }
        });

        // ===== CREATE FLOATING BALLOONS =====
        function createFloatingBalloons() {
            const container = document.getElementById('floatingBalloons');
            container.innerHTML = '';
            
            for (let i = 0; i < 15; i++) {
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                
                // Random position
                const left = Math.random() * 100;
                const size = 40 + Math.random() * 40;
                const duration = 20 + Math.random() * 20;
                const delay = Math.random() * 10;
                
                balloon.style.left = `${left}%`;
                balloon.style.width = `${size}px`;
                balloon.style.height = `${size * 1.2}px`;
                balloon.style.animationDuration = `${duration}s`;
                balloon.style.animationDelay = `${delay}s`;
                
                container.appendChild(balloon);
            }
        }

        // ===== PAGE NAVIGATION =====
        function switchPage(pageNumber) {
            // Hide current page
            document.getElementById(`page${currentPage}`).classList.remove('active');
            document.querySelector(`.dot[data-page="${currentPage}"]`).classList.remove('active');
            
            // Stop card animation if leaving page 5
            if (currentPage === 5) {
                clearInterval(cardInterval);
            }
            
            // Show new page
            document.getElementById(`page${pageNumber}`).classList.add('active');
            document.querySelector(`.dot[data-page="${pageNumber}"]`).classList.add('active');
            
            currentPage = pageNumber;
            
            // Initialize page-specific features
            if (pageNumber === 5) {
                setTimeout(initializeCards, 300);
                setTimeout(startCardAnimation, 500);
            }
        }

        // ===== PAGE 2: START SURPRISE BUTTON =====
        document.getElementById('startSurpriseBtn').addEventListener('click', function() {
            // Add click animation
            this.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                this.style.transform = 'scale(1)';
                switchPage(3);
            }, 300);
        });

        // ===== PAGE 3: CUSTOM CAKE INTERACTIONS =====
        document.getElementById('cakeBtn').addEventListener('click', function() {
            cakeStep++;
            
            if (cakeStep === 1) {
                // Step 1: Decorate cake with text
                document.getElementById('cakeText').style.opacity = '1';
                this.innerHTML = 'Light the Candles <i class="fas fa-fire"></i>';
                
                // Add sparkle effect
                createSparkles();
                
            } else if (cakeStep === 2) {
                // Step 2: Light candles
                document.getElementById('flame1').style.opacity = '1';
                document.getElementById('flame2').style.opacity = '1';
                document.getElementById('flame3').style.opacity = '1';
                this.innerHTML = 'Pop the Balloons <i class="fas fa-bullseye"></i>';
                
                // Create confetti
                createConfetti();
                
                // Play celebration
                celebrate();
                
            } else if (cakeStep === 3) {
                // Step 3: Go to balloons page
                switchPage(4);
            }
        });

        // ===== CELEBRATION EFFECTS =====
        function createSparkles() {
            const cakeContainer = document.querySelector('.cake-container');
            
            for (let i = 0; i < 20; i++) {
                const sparkle = document.createElement('div');
                sparkle.style.position = 'absolute';
                sparkle.style.width = '5px';
                sparkle.style.height = '5px';
                sparkle.style.backgroundColor = '#FFD700';
                sparkle.style.borderRadius = '50%';
                sparkle.style.left = `${Math.random() * 100}%`;
                sparkle.style.top = `${Math.random() * 100}%`;
                sparkle.style.animation = 'sparkle 1s ease-out forwards';
                
                cakeContainer.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode === cakeContainer) {
                        cakeContainer.removeChild(sparkle);
                    }
                }, 1000);
            }
        }

        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            container.innerHTML = '';
            
            for (let i = 0; i < 100; i++) {
                const piece = document.createElement('div');
                piece.className = 'confetti-piece';
                
                piece.style.left = `${Math.random() * 100}%`;
                piece.style.backgroundColor = i % 2 === 0 ? '#FFD700' : '#0F1C3F';
                piece.style.width = `${5 + Math.random() * 10}px`;
                piece.style.height = `${5 + Math.random() * 10}px`;
                piece.style.opacity = '1';
                piece.style.animation = `confettiFall ${1 + Math.random() * 2}s linear forwards`;
                piece.style.animationDelay = `${Math.random() * 0.5}s`;
                
                container.appendChild(piece);
            }
        }

        function celebrate() {
            // Change background to golden glow
            document.body.style.backgroundColor = '#1A0F00';
            
            // Add celebration text
            const celebrationText = document.createElement('div');
            celebrationText.innerHTML = 'üéâ CELEBRATION TIME! üéâ';
            celebrationText.style.position = 'absolute';
            celebrationText.style.top = '20%';
            celebrationText.style.left = '50%';
            celebrationText.style.transform = 'translateX(-50%)';
            celebrationText.style.fontSize = '2.5rem';
            celebrationText.style.color = '#FFD700';
            celebrationText.style.fontWeight = 'bold';
            celebrationText.style.textShadow = '0 0 20px rgba(255, 215, 0, 0.8)';
            celebrationText.style.animation = 'pulse 1s infinite';
            celebrationText.style.zIndex = '1000';
            
            document.getElementById('page3').appendChild(celebrationText);
            
            // Remove after 3 seconds
            setTimeout(() => {
                if (celebrationText.parentNode) {
                    celebrationText.parentNode.removeChild(celebrationText);
                }
                document.body.style.backgroundColor = '#0A0A0A';
            }, 3000);
        }

        // ===== PAGE 4: BALLOONS GAME =====
        document.querySelectorAll('.game-balloon').forEach(balloon => {
            balloon.addEventListener('click', function() {
                if (this.classList.contains('burst')) return;
                
                // Burst animation
                this.classList.add('burst');
                
                // Show hidden word
                const word = this.getAttribute('data-word');
                const hiddenWord = this.querySelector('.hidden-word');
                hiddenWord.classList.add('show');
                
                // Add to revealed message
                const messageDiv = document.getElementById('revealedMessage');
                const currentMessage = messageDiv.textContent;
                messageDiv.textContent = currentMessage + (currentMessage ? ' ' : '') + word;
                
                // Increment counter
                balloonsBurst++;
                
                // Check if all balloons are burst
                if (balloonsBurst === 4) {
                    document.getElementById('nextPageBtn').classList.add('active');
                }
                
                // Play pop sound effect (simulated)
                playPopSound();
            });
        });

        // ===== PAGE 4: NEXT PAGE BUTTON =====
        document.getElementById('nextPageBtn').addEventListener('click', function() {
            this.innerHTML = 'Loading Sweet Moments... <i class="fas fa-spinner fa-spin"></i>';
            
            setTimeout(() => {
                switchPage(5);
                this.innerHTML = 'Special Wish <i class="fas fa-heart"></i>';
            }, 1000);
        });

        // ===== PAGE 5: IMPROVED MEMORY CARDS =====
        function initializeCards() {
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            // Create 6 cards
            for (let i = 0; i < 6; i++) {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.index = i;
                
                // Front of card
                const front = document.createElement('div');
                front.className = 'card-front';
                front.innerHTML = `<div>Memory ${i + 1}</div>`;
                
                // Back of card with photo
                const back = document.createElement('div');
                back.className = 'card-back';
                const img = document.createElement('img');
                img.src = photos[i];
                img.alt = `Memory ${i + 1}`;
                img.loading = 'lazy';
                back.appendChild(img);
                
                // Card number indicator
                const number = document.createElement('div');
                number.className = 'card-number';
                number.textContent = i + 1;
                back.appendChild(number);
                
                card.appendChild(front);
                card.appendChild(back);
                container.appendChild(card);
            }
            
            // Position cards initially
            positionCards();
            
            // Add click events after cards are created
            setTimeout(() => {
                document.querySelectorAll('.memory-card').forEach(card => {
                    card.addEventListener('click', function() {
                        if (isCardAnimating) return;
                        
                        const cardIndex = parseInt(this.dataset.index);
                        if (cardIndex === currentCard) {
                            this.classList.toggle('flipped');
                        } else {
                            isCardAnimating = true;
                            currentCard = cardIndex;
                            positionCards();
                            setTimeout(() => {
                                isCardAnimating = false;
                            }, 800);
                        }
                    });
                });
            }, 100);
        }

        function positionCards() {
            const cards = document.querySelectorAll('.memory-card');
            const totalCards = cards.length;
            
            cards.forEach((card, index) => {
                const cardIndex = parseInt(card.dataset.index);
                const distance = Math.abs(cardIndex - currentCard);
                
                // Calculate position based on distance from current card
                let zIndex = 100 - distance;
                let rotation = (cardIndex - currentCard) * 15;
                let scale = 1 - distance * 0.15;
                let opacity = 1 - distance * 0.4;
                let xOffset = (cardIndex - currentCard) * 60;
                
                // Clamp values
                scale = Math.max(0.7, scale);
                opacity = Math.max(0.3, opacity);
                zIndex = Math.max(10, zIndex);
                
                // Apply styles with smooth transition
                card.style.zIndex = zIndex;
                card.style.transform = `translate(calc(-50% + ${xOffset}px), -50%) rotateY(${rotation}deg) scale(${scale})`;
                card.style.opacity = opacity;
                card.style.transition = 'all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                
                // Remove flipped class if not current card
                if (cardIndex !== currentCard) {
                    card.classList.remove('flipped');
                }
            });
        }

        function startCardAnimation() {
            // Auto-rotate through cards every 4 seconds
            cardInterval = setInterval(() => {
                if (isCardAnimating) return;
                
                isCardAnimating = true;
                currentCard = (currentCard + 1) % 6;
                positionCards();
                
                setTimeout(() => {
                    isCardAnimating = false;
                }, 800);
            }, 4000);
        }

        // ===== PAGE 5: OPEN MESSAGE BUTTON =====
        document.getElementById('openMessageBtn').addEventListener('click', function() {
            this.innerHTML = 'Opening Message... <i class="fas fa-spinner fa-spin"></i>';
            
            setTimeout(() => {
                switchPage(6);
                this.innerHTML = 'Open My Message <i class="fas fa-envelope-open-text"></i>';
            }, 1000);
        });

        // ===== PAGE 6: KING CARD =====
        document.getElementById('kingCard').addEventListener('click', function() {
            this.classList.toggle('flipped');
        });

        // ===== PAGE 6: NEXT BUTTON =====
        document.getElementById('page6NextBtn').addEventListener('click', function() {
            this.innerHTML = 'Loading Final Surprise... <i class="fas fa-spinner fa-spin"></i>';
            
            setTimeout(() => {
                switchPage(7);
                this.innerHTML = 'Next <i class="fas fa-arrow-right"></i>';
            }, 1000);
        });

        // ===== PAGE 7: GIFT BOX =====
        document.getElementById('giftBox').addEventListener('click', function() {
            this.classList.add('open');
            document.getElementById('clickText').style.opacity = '0';
            
            // Show final message after animation
            setTimeout(() => {
                document.getElementById('finalMessage').classList.add('show');
            }, 800);
        });

        // ===== PAGE 7: REPLAY BUTTON - FIXED =====
        document.getElementById('replayBtn').addEventListener('click', function() {
            // Reset all variables
            currentPage = 1;
            balloonsBurst = 0;
            cakeStep = 0;
            currentCard = 0;
            isCardAnimating = false;
            
            // Clear any intervals
            clearInterval(cardInterval);
            
            // Reset page 7 elements
            document.getElementById('giftBox').classList.remove('open');
            document.getElementById('finalMessage').classList.remove('show');
            document.getElementById('clickText').style.opacity = '1';
            
            // Reset page 3 elements
            document.getElementById('cakeText').style.opacity = '0';
            document.getElementById('flame1').style.opacity = '0';
            document.getElementById('flame2').style.opacity = '0';
            document.getElementById('flame3').style.opacity = '0';
            document.getElementById('cakeBtn').innerHTML = 'Decorate Cake <i class="fas fa-birthday-cake"></i>';
            
            // Reset page 4 elements
            document.querySelectorAll('.game-balloon').forEach(balloon => {
                balloon.classList.remove('burst');
                balloon.querySelector('.hidden-word').classList.remove('show');
            });
            document.getElementById('revealedMessage').textContent = '';
            document.getElementById('nextPageBtn').classList.remove('active');
            
            // Reset page 5 cards
            setTimeout(() => {
                if (document.getElementById('cardsContainer')) {
                    initializeCards();
                }
            }, 100);
            
            // Reset page 6
            document.getElementById('kingCard').classList.remove('flipped');
            
            // Reset progress dots
            document.querySelectorAll('.dot').forEach(dot => {
                dot.classList.remove('active');
            });
            document.querySelector('.dot[data-page="1"]').classList.add('active');
            
            // Hide all pages, show only page 1
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById('page1').classList.add('active');
            
            // Clear password field
            document.getElementById('passwordInput').value = '';
            document.getElementById('passwordInput').style.borderColor = '#0F1C3F';
            document.getElementById('errorMessage').textContent = '';
        });

        // ===== HELPER FUNCTIONS =====
        function playPopSound() {
            // Simulate pop sound with visual feedback
            const balloonPop = document.createElement('div');
            balloonPop.style.position = 'fixed';
            balloonPop.style.top = '50%';
            balloonPop.style.left = '50%';
            balloonPop.style.width = '100px';
            balloonPop.style.height = '100px';
            balloonPop.style.borderRadius = '50%';
            balloonPop.style.backgroundColor = 'rgba(255, 215, 0, 0.2)';
            balloonPop.style.transform = 'translate(-50%, -50%) scale(0)';
            balloonPop.style.animation = 'pop 0.5s forwards';
            balloonPop.style.pointerEvents = 'none';
            balloonPop.style.zIndex = '1000';
            
            document.body.appendChild(balloonPop);
            
            setTimeout(() => {
                if (balloonPop.parentNode) {
                    balloonPop.parentNode.removeChild(balloonPop);
                }
            }, 500);
        }

        // ===== INITIAL SETUP =====
        // Add CSS for additional animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
            
            @keyframes sparkle {
                0% { transform: scale(0); opacity: 1; }
                100% { transform: scale(1); opacity: 0; }
            }
            
            @keyframes confettiFall {
                0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
                100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
            }
            
            @keyframes pop {
                0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
                100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Create initial floating balloons
        createFloatingBalloons();

        // Update progress dots click events
        document.querySelectorAll('.dot').forEach(dot => {
            dot.addEventListener('click', function() {
                const page = parseInt(this.getAttribute('data-page'));
                if (page <= currentPage) {
                    switchPage(page);
                }
            });
        });

        // Initialize page 5 cards when page loads
        setTimeout(() => {
            if (document.getElementById('cardsContainer')) {
                initializeCards();
            }
        }, 500);
    </script>
</body>

</html>
